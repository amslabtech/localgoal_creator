<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="bagfile" default="/home/amsl/bagfiles/bagfiles/vbatman_test_bags/vbatman_test_2023-08-21-16-36-38.bag"/>
    <arg name="node_edge_map_file" default="/home/amsl/catkin_ws/src/rwrc23/map/graph/ikuta_graph.yaml"/>
    <arg name="checkpoint_file" default="/home/amsl/catkin_ws/src/rwrc23/map/checkpoint/ikuta_full_checkpoint.yaml"/>

    <!-- <include file="$(find localgoal_creator)/launch/localgoal_creator.launch"> -->
    <!--     <arg name="start_node" value="39"/> -->
    <!--     <arg name="goal_node" value="39"/> -->
    <!--     <arg name="stop_radius_min" value="0.5"/> -->
    <!--     <arg name="checkpoint_topic" value="/node_edge_map/checkpoint"/> -->
    <!--     <arg name="node_edge_map_topic" value="/node_edge_map/map"/> -->
    <!--     <arg name="pose_topic" value="/amcl_pose"/> -->
    <!--     <arg name="count_start_radius" value="10.0"/> -->
    <!--     <arg name="skip_timecount" value="10.0"/> -->
    <!-- </include> -->

    <node pkg="amsl_navigation_managers" type="node_edge_map_manager.py" name="node_edge_map_manager" ns="navigation_managers">
        <param name="MAP_PATH" value="$(arg node_edge_map_file)" />
        <param name="HZ" value="10" />
    </node>
    <node pkg="amsl_navigation_managers" type="checkpoint_manager.py" name="checkpoint_manager" ns="navigation_managers">
        <param name="CHECKPOINT_PATH" value="$(arg checkpoint_file)" />
        <param name="HZ" value="10" />
    </node>
    <node pkg="amsl_navigation_utils" type="initialpose_publisher" name="initialpose_publisher">
        <param name="init_node" value="3"/>
        <param name="set_delay" value="0.5"/>
        <remap from="map_cloud" to="map_cloud/downsampled"/>
        <remap from="checkpoint" to="node_edge_map/checkpoint"/>
        <remap from="node_edge_map" to="node_edge_map/map"/>
    </node>
</launch>
